(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f3512dd"],{"00b4":function(e,t,a){"use strict";a("ac1f");var c=a("23e7"),s=a("da84"),o=a("c65b"),l=a("e330"),n=a("1626"),r=a("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),d=s.Error,u=l(/./.test);c({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!n(t))return u(this,e);var a=o(t,this,e);if(null!==a&&!r(a))throw new d("RegExp exec method returned something other than an Object or null");return!!a}})},"02c0":function(e,t,a){"use strict";var c=a("7a23"),s={class:"text-dark py-5 py-md-9"},o=Object(c["i"])('<div class="container px-6 px-md-9"><ul class="row list-unstyled gx-md-9"><li class="col-md-4 border-end-md mb-5 mb-md-0 py-2"><div class="d-flex d-md-column flex-md-column flex-lg-row align-items-center justify-content-lg-center" data-aos="fade-up"><i class="bi bi-linkedin fs-1 text-danger fa-fw mb-md-3 mb-lg-0"></i><div class="ms-4 ms-md-0 ms-lg-4 text-danger text-md-center text-lg-start"><h3 class="h5">社群交流</h3><p class="mb-0">10:00 - 21:00 專人線上諮詢</p></div></div></li><li class="col-md-4 border-end-md mb-5 mb-md-0 py-2"><div class="d-flex d-md-column flex-md-column flex-lg-row align-items-center justify-content-lg-center" data-aos="fade-up"><span class="material-icons-outlined fs-1 text-danger mb-md-3 mb-lg-0"> local_shipping </span><div class="ms-4 ms-md-0 ms-lg-4 text-danger text-md-center text-lg-start"><h3 class="h5">滿額免運</h3><p class="mb-0">滿NT$ 500免運</p></div></div></li><li class="col-md-4 mb-5 mb-md-0 py-2"><div class="d-flex d-md-column flex-md-column flex-lg-row align-items-center justify-content-lg-center" data-aos="fade-up"><i class="bi bi-box-seam fs-1 text-danger mb-md-3 mb-lg-0"></i><div class="ms-4 ms-md-0 ms-lg-4 text-danger text-md-center text-lg-start"><h3 class="h5">現貨快速出貨</h3><p class="mb-0">工作日 16:00 前訂單，當日出貨</p></div></div></li></ul></div>',1),l=[o];function n(e,t){return Object(c["B"])(),Object(c["g"])("div",s,l)}var r=a("6b0d"),i=a.n(r);const d={},u=i()(d,[["render",n]]);t["a"]=u},"1dde":function(e,t,a){var c=a("d039"),s=a("b622"),o=a("2d00"),l=s("species");e.exports=function(e){return o>=51||!c((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"7b9c":function(e,t,a){"use strict";a.r(t);a("99af"),a("b0c0"),a("b64b");var c=a("7a23"),s=Object(c["h"])("header",{class:"position-relative mb-7 mb-md-9"},[Object(c["h"])("img",{class:"d-lg-none d-block img-cover pageBanner w-100",src:"https://storage.googleapis.com/vue-course-api.appspot.com/charlotte-hexschool/1649056515409.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=Y3oVi0SPMebWOgvPqS5RHodE7xqByaugrJ0bU5Nh39%2FkgP61e0eITVD7AtElaYEW3y%2BnA%2FUZW3tYJHol9aYQ4CruEBRBMTedaUR%2F4sE44GRGEjRh7LifWCFKxD%2BY4hsD68zenE0s1Cb2WS%2BuBUuxrpx5ac2hsMgZypGfR%2FaCyF8Fh0jtifudelvL03JhoGOjSSdmzzeFJUk4eESF7ubqvjc5YFjSh6o2TVTUgIM10VrDxPVgVCTPgfQ%2B4PNaW86AAXGsrDothzw%2F5W6wsthdwEFzxe0obRdU%2F2mrEwSMCCAnA1qq9MihLktcPDbkYDKQQgNcpGIzq3s5257lU2CD5w%3D%3D",alt:"關於漢文帝banner"}),Object(c["h"])("img",{class:"img-cover d-lg-block d-none pageBanner w-100",src:"https://storage.googleapis.com/vue-course-api.appspot.com/charlotte-hexschool/1649486937361.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=MV0ltytTHZJ%2FFGIlFNovcNBNkRHce3FdIgO0roi8w9RCkOEQXMGCOhAZ1RH%2B%2BlNeVaY0pVC5sCuLzCA%2FWAc0oEBvoiak1KxmsDkcwyMFkV4gsU%2FjHvfhk5KtGoUS7o%2BorWxIxsTrq4N53c5a6Qo1KHZ4xg%2BFRCISmaPyxX2falP3q56WIHTegBTTWE1jUcLEfoy608VibZKxE2CwTPiDQ9i2OoagdVKlb%2FRoWC7g5BLlreMW0AtGjmGffQHpW2OhvTpyAYW1BUrZww%2BVrRHr5n9JOm5VF6yEc78HSOxuZ1bc%2B809o9U2YkU9pRYCCORuMMMsBV3dnrEtxoj0V2yaTw%3D%3D",alt:"關於漢文帝banner-pc"}),Object(c["h"])("h2",{class:"position-absolute text-hv-center top-50 start-50 h2 fw-bold text-white-50 pageBanner-text"}," Shopping ")],-1),o={class:"container px-3"},l={class:"row g-3 mt-4"},n={"aria-label":"breadcrumb"},r={class:"breadcrumb"},i={class:"breadcrumb-item"},d=Object(c["j"])(" 首頁 "),u=Object(c["h"])("li",{class:"breadcrumb-item active","aria-current":"page"},"購物車",-1),b={key:0,class:"mt-2"},m=Object(c["i"])('<ul class="row justify-content-center list-unstyled py-3 px-3"><li class="col-md-4"><div class="bg-primary p-3 badge rounded-pill fs-3 w-100 mb-2 bg-secondary text-white"> 1. 填寫訂單 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-light text-muted"> 2. 訂單結帳 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-light text-muted"> 3. 付款完成 </div></li></ul>',1),h={class:"row justify-content-center"},p={class:"col-md-6"},f={class:"text-end"},j=["disabled"],g={class:"table align-middle"},O=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th"),Object(c["h"])("th",null,"品名"),Object(c["h"])("th",{style:{width:"130px"}},"數量/單位"),Object(c["h"])("th"),Object(c["h"])("th",null,"單價")])],-1),v=["onClick","disabled"],x=Object(c["j"])(" x "),y={class:"input-group input-group-sm"},k={class:"input-group my-3"},w=["onUpdate:modelValue","onChange","disabled"],C=["value"],V={class:"input-group-text",id:"basic-addon2"},B=Object(c["h"])("td",null,null,-1),L={class:"text-end"},E=Object(c["h"])("td",{colspan:"4",class:"text-end"},"總計",-1),F={class:"text-end"},I={class:"my-5 row justify-content-center"},D={class:"mb-3"},S=Object(c["h"])("label",{for:"email",class:"form-label"},"Email",-1),U={class:"mb-3"},M=Object(c["h"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),A={class:"mb-3"},T=Object(c["h"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),R={class:"mb-3"},q=Object(c["h"])("label",{for:"address",class:"form-label"},"收件人地址",-1),$={class:"mb-3"},W=Object(c["h"])("label",{for:"payMethod",class:"form-label"},[Object(c["j"])("付款方式 "),Object(c["h"])("span",{class:"text-danger"},"*")],-1),Y=Object(c["h"])("option",{value:"",disabled:""},"請選擇付款方式",-1),G=Object(c["h"])("option",{value:"ATM"},"ATM",-1),P=Object(c["h"])("option",{value:"信用卡"},"信用卡",-1),z={class:"mb-3"},H=Object(c["h"])("label",{for:"message",class:"form-label"},"留言",-1),N={class:"text-end"},J=["disabled"],Z={key:1,class:"text-center mb-5"},Q=Object(c["h"])("h2",{class:"text-danger"},"返回模型館吧",-1),K=Object(c["h"])("p",{class:"display-3 text-danger mb-3"},"購物車目前尚無商品!!!",-1),_=Object(c["j"])(" 去逛逛吧 ! ");function X(e,t,a,X,ee,te){var ae=Object(c["L"])("RouterLink"),ce=Object(c["L"])("font-awesome-icon"),se=Object(c["L"])("Field"),oe=Object(c["L"])("ErrorMessage"),le=Object(c["L"])("Form"),ne=Object(c["L"])("NoticeView"),re=Object(c["L"])("CustomLoading");return Object(c["B"])(),Object(c["g"])(c["a"],null,[s,Object(c["h"])("div",o,[Object(c["h"])("div",l,[Object(c["h"])("nav",n,[Object(c["h"])("ol",r,[Object(c["h"])("li",i,[Object(c["k"])(ae,{to:"/",class:"nav-link text-dark active p-0"},{default:Object(c["Y"])((function(){return[d]})),_:1})]),u])]),ee.cartData.carts.length>0?(Object(c["B"])(),Object(c["g"])("div",b,[m,Object(c["h"])("div",h,[Object(c["h"])("div",p,[Object(c["h"])("div",f,[Object(c["h"])("button",{id:"btn02",class:"btn btn-outline-secondary fw-bold py-3 px-4 mb-4",type:"button",onClick:t[0]||(t[0]=function(){return te.delAllCarts&&te.delAllCarts.apply(te,arguments)}),disabled:0===ee.cartData.carts.length}," 清空購物車 ",8,j)]),Object(c["h"])("table",g,[O,Object(c["h"])("tbody",null,[ee.cartData.carts?(Object(c["B"])(!0),Object(c["g"])(c["a"],{key:0},Object(c["J"])(ee.cartData.carts,(function(t){return Object(c["B"])(),Object(c["g"])("tr",{key:t.id},[Object(c["h"])("td",null,[Object(c["h"])("button",{type:"button",id:"btn01",class:"btn btn-outline-secondary btn-sm",onClick:function(e){return te.removeCartItem(t.id)},disabled:ee.isLoadingItem===t.id},[ee.isLoadingItem===t.id?(Object(c["B"])(),Object(c["e"])(ce,{key:0,icon:"spinner",pulse:""})):Object(c["f"])("",!0),x],8,v)]),Object(c["h"])("td",null,Object(c["O"])(t.product.title),1),Object(c["h"])("td",null,[Object(c["h"])("div",y,[Object(c["h"])("div",k,[Object(c["Z"])(Object(c["h"])("select",{class:"form-select","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return te.updateCartItem(t)},disabled:ee.isLoadingItem===t.id},[(Object(c["B"])(),Object(c["g"])(c["a"],null,Object(c["J"])(10,(function(e){return Object(c["h"])("option",{value:e,key:"".concat(e,"-").concat(t.id)},Object(c["O"])(e),9,C)})),64))],40,w),[[c["S"],t.qty]]),Object(c["h"])("span",V,Object(c["O"])(t.product.unit),1)])])]),B,Object(c["h"])("td",L,Object(c["O"])(e.$filters.currency(t.total)),1)])})),128)):Object(c["f"])("",!0)]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",null,[E,Object(c["h"])("td",F,Object(c["O"])(e.$filters.currency(ee.cartData.total)),1)])])])])]),Object(c["h"])("div",I,[Object(c["k"])(le,{ref:"form",class:"col-md-6",onSubmit:te.createOrder},{default:Object(c["Y"])((function(e){var a=e.errors;return[Object(c["h"])("div",D,[S,Object(c["k"])(se,{id:"email",name:"email",type:"email",class:Object(c["s"])(["form-control",{"is-invalid":a["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:ee.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return ee.form.user.email=e})},null,8,["class","modelValue"]),Object(c["k"])(oe,{name:"email",class:"invalid-feedback"})]),Object(c["h"])("div",U,[M,Object(c["k"])(se,{id:"name",name:"姓名",type:"text",class:Object(c["s"])(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:ee.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return ee.form.user.name=e})},null,8,["class","modelValue"]),Object(c["k"])(oe,{name:"姓名",class:"invalid-feedback"})]),Object(c["h"])("div",A,[T,Object(c["k"])(se,{id:"tel",name:"電話",type:"text",class:Object(c["s"])(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:te.isPhone,modelValue:ee.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return ee.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(c["k"])(oe,{name:"電話",class:"invalid-feedback"})]),Object(c["h"])("div",R,[q,Object(c["k"])(se,{id:"address",name:"地址",type:"text",class:Object(c["s"])(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:ee.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return ee.form.user.address=e})},null,8,["class","modelValue"]),Object(c["k"])(oe,{name:"地址",class:"invalid-feedback"})]),Object(c["h"])("div",$,[W,Object(c["k"])(se,{id:"payMethod",modelValue:ee.form.user.payMethod,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ee.form.user.payMethod=e}),as:"select",name:"付款方式",class:Object(c["s"])(["form-control",{"is-invalid":a["付款方式"]}]),rules:"required"},{default:Object(c["Y"])((function(){return[Y,G,P]})),_:2},1032,["modelValue","class"]),Object(c["k"])(oe,{name:"付款方式",class:"invalid-feedback"})]),Object(c["h"])("div",z,[H,Object(c["Z"])(Object(c["h"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[6]||(t[6]=function(e){return ee.form.message=e})},null,512),[[c["T"],ee.form.message]])]),Object(c["h"])("div",N,[Object(c["h"])("button",{type:"submit",class:"btn btn02 btn-secondary py-3 px-4 fw-bold",disabled:Object.keys(a).length>0||0===ee.cartData.carts.length}," 送出訂單 ",8,J)])]})),_:1},8,["onSubmit"])])])):(Object(c["B"])(),Object(c["g"])("div",Z,[Q,K,Object(c["k"])(ae,{to:"/products",class:"fs-5 btn btn-outline-secondary py-3 px-3"},{default:Object(c["Y"])((function(){return[_]})),_:1})]))])]),Object(c["k"])(ne),Object(c["k"])(re,{active:ee.isLoading},null,8,["active"])],64)}a("ac1f"),a("00b4");var ee=a("02c0"),te={name:"購物車",inject:["emitter"],components:{NoticeView:ee["a"]},data:function(){return{cartData:{carts:[]},form:{user:{name:"",email:"",tel:"",address:""},message:""},products:[],isLoadingItem:"",isLoading:!1,orderId:""}},methods:{isPhone:function(e){var t=/(^09|\+?8869)\d{2}(-?\d{3}-?\d{3})$/;return!!t.test(e)||"請輸入正確的手機號碼"},getProducts:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/products")).then((function(t){e.products=t.data.products}))},getCart:function(){var e=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart")).then((function(t){e.cartData=t.data.data,e.isLoading=!1,e.emitter.emit("get-cart")}))},removeCartItem:function(e){var t=this;this.isLoadingItem=e,this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart/").concat(e)).then((function(e){t.getCart(),t.isLoadingItem="",t.emitter.emit("get-cart"),t.$swal(e.data.message,"","success")}))},updateCartItem:function(e){var t=this,a={product_id:e.product_id,qty:e.qty};this.isLoadingItem=e.id,this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart/").concat(e.id),{data:a}).then((function(e){t.getCart(),t.isLoadingItem="",t.$swal(e.data.message,"","success")}))},delAllCarts:function(){var e=this;this.isLoading=!0,this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/carts")).then((function(t){e.isLoading=!1,e.getCart(),e.emitter.emit("get-cart"),e.$swal(t.data.message,"","success")}))},createOrder:function(){var e=this;this.isLoading=!0;var t=this.form;this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/order"),{data:t}).then((function(t){e.isLoading=!1,e.orderId=t.data.orderId,e.$router.push("/order/".concat(e.orderId)),e.$swal(t.data.message),e.$refs.form.resetForm(),e.getCart()}))}},mounted:function(){this.getCart()}},ae=a("6b0d"),ce=a.n(ae);const se=ce()(te,[["render",X]]);t["default"]=se},8418:function(e,t,a){"use strict";var c=a("a04b"),s=a("9bf2"),o=a("5c6c");e.exports=function(e,t,a){var l=c(t);l in e?s.f(e,l,o(0,a)):e[l]=a}},"99af":function(e,t,a){"use strict";var c=a("23e7"),s=a("da84"),o=a("d039"),l=a("e8b5"),n=a("861d"),r=a("7b0b"),i=a("07fa"),d=a("8418"),u=a("65f0"),b=a("1dde"),m=a("b622"),h=a("2d00"),p=m("isConcatSpreadable"),f=9007199254740991,j="Maximum allowed index exceeded",g=s.TypeError,O=h>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=b("concat"),x=function(e){if(!n(e))return!1;var t=e[p];return void 0!==t?!!t:l(e)},y=!O||!v;c({target:"Array",proto:!0,forced:y},{concat:function(e){var t,a,c,s,o,l=r(this),n=u(l,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(o=-1===t?l:arguments[t],x(o)){if(s=i(o),b+s>f)throw g(j);for(a=0;a<s;a++,b++)a in o&&d(n,b,o[a])}else{if(b>=f)throw g(j);d(n,b++,o)}return n.length=b,n}})},b0c0:function(e,t,a){var c=a("83ab"),s=a("5e77").EXISTS,o=a("e330"),l=a("9bf2").f,n=Function.prototype,r=o(n.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=o(i.exec),u="name";c&&!s&&l(n,u,{configurable:!0,get:function(){try{return d(i,r(this))[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-5f3512dd.81b1d18b.js.map